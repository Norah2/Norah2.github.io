---
layout: post
title: 每天一个Linux命令(13)：touch  
description: 命令touch的讲解  
tag: Linux
---

* 命令格式：`touch [OPTION]... FILE...`  

* 命令功能：  
   
   touch命令可以创建一个空文件，也可以同时创建多个文件。FILE可以是相对路径，也可以是绝对路径，也可是多个文件，文件名之间用空格隔开。  

* 常用参数：  

|选项|全称|说明|
|:--:|:--:|:--:|
|-a|--time=atime or --time=access or --time=use|只更改存取时间|
|-c|--no-create        |不建立任何文档|
|-d|--date=STRING      |使用指定的日期时间，而非现在的时间|
|-f|-                  |此参数将忽略不予处理，仅负责解决BSD版本touch指令的兼容性问题|
|-m|--time=mtime or --time=modify|只更改变动时间|
|-r|--reference=FILE   |把指定文档或目录的日期时间，统统设成和参考文档或目录的日期时间相同|
|-t|-               |使用指定的时间 [[CC]YY]MMDDhhmm[.ss] 替换现在的时间|

* 实例：  

创建一个新文件：  

```
[nora@localhost ~]$ mkdir testdir
[nora@localhost ~]$ cd testdir
[nora@localhost testdir]$ pwd
/home/nora/testdir
[nora@localhost testdir]$ ls -l
total 0
[nora@localhost testdir]$ touch test1
[nora@localhost testdir]$ ls -l
total 0
-rw-rw-r--. 1 nora nora 0 Nov  8 15:03 test1
```

同时创建多个文件：  

```
[nora@localhost testdir]$ touch test2 test3 test4
[nora@localhost testdir]$ ls -l
total 0
-rw-rw-r--. 1 nora nora 0 Nov  8 15:03 test1
-rw-rw-r--. 1 nora nora 0 Nov  8 15:04 test2
-rw-rw-r--. 1 nora nora 0 Nov  8 15:04 test3
-rw-rw-r--. 1 nora nora 0 Nov  8 15:04 test4
```

如果文件名或目录名已经存在，touch命令将把该文件或目录的时间戳改为当前访问的日期和时间：  

```
[nora@localhost testdir]$ ls -l l*
-rw-rw-r--. 1 nora nora 233 Nov  8 15:06 lists
[nora@localhost testdir]$ touch lists
[nora@localhost testdir]$ ls -l l*
-rw-rw-r--. 1 nora nora 233 Nov  8 15:26 lists
```

`touch -r file1 file2` 更新file2的时间戳，改为和file1一样：  

```
[nora@localhost testdir]$ ls -l
total 4
-rw-rw-r--. 1 nora nora 233 Nov  8 15:30 lists
-rw-rw-r--. 1 nora nora   0 Nov  8 15:30 test1
-rw-rw-r--. 1 nora nora   0 Nov  8 15:30 test2
-rw-rw-r--. 1 nora nora   0 Nov  8 15:04 test3
-rw-rw-r--. 1 nora nora   0 Nov  8 15:04 test4
[nora@localhost testdir]$ touch -r test3 lists
[nora@localhost testdir]$ ls -l
total 4
-rw-rw-r--. 1 nora nora 233 Nov  8 15:04 lists
-rw-rw-r--. 1 nora nora   0 Nov  8 15:30 test1
-rw-rw-r--. 1 nora nora   0 Nov  8 15:30 test2
-rw-rw-r--. 1 nora nora   0 Nov  8 15:04 test3
-rw-rw-r--. 1 nora nora   0 Nov  8 15:04 test4
```

设定文件的时间戳：  

```
[nora@localhost testdir]$ touch -t 201811081503 lists
[nora@localhost testdir]$ ls -l
total 4
-rw-rw-r--. 1 nora nora 233 Nov  8  2018 lists
-rw-rw-r--. 1 nora nora   0 Nov  8 15:30 test1
-rw-rw-r--. 1 nora nora   0 Nov  8 15:30 test2
-rw-rw-r--. 1 nora nora   0 Nov  8 15:04 test3
-rw-rw-r--. 1 nora nora   0 Nov  8 15:04 test4
```

说明：  

[[CC]YY]MMDDhhmm[.ss]  

CC为年数中的前两位，即“世纪数”；YY为年数的后两位，即某世纪中的年数(限定在1969-2068之内)；MM为月数；DD为天数；hh为小时数；mm为分钟数；ss为秒数（设定范围是0-61，这样可以处理闰秒）。这些数字组成的时间是环境变量TZ指定的时区中的一个时间，由于系统的限制，早于1970年1月1日的时间是错误的。  

参考文献：  

https://www.cnblogs.com/peida/archive/2012/10/30/2745714.html  

转载请注明：[南梦婷的博客](https://norah2.github.io) » [点击阅读原文](https://norah2.github.io/2019/11/Linux12/)   

<!--以下是本文用到的链接-->  
