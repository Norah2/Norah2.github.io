---
layout: post
title: 每天一个Linux命令(4)：su  
description: 命令su的讲解  
tag: Linux
---

* 命令格式：[su [options] [-] [USER [arg]...]  

* 命令功能：变更为其他用户id，除root外，需要键入该使用者的密码。  

* 常用参数：  

|选项|全称|说明|
|:--:|:--:|:--:|
|-m, -p|--preserve-environment|执行su时不改变环境|
|-g|--group <group>|指定主要组（primary group）|
|-G|--supp-group <group>|指定补充组（supplemental group）|
|-s|--shell <shell>|指定要执行的shell（bash csh tcsh等），预设值为/etc/passwd 内的该使用者（USER） shell|
|-f|--fast|不必读启动档（如csh.schrc等），仅用于csh或tcsh|
|-c|--command <command>|变更为账号为USER的使用者并执行指令（command）后再变回原来使用者|
|-, -l|--logi|这个参数加了之后重新 login 为该使用者，大部份环境变数（HOME SHELL USER等等）都是以该使用者（USER）为主，并且工作目录也会改变，如果没有指定 USER ，默认是 root|

* 实例：  

变更帐号为 root 并在执行 ls 指令后退出变回原使用者：  

```
[nora@localhost ~]$ su -c ls root
Password: 
Desktop  Documents  Downloads  Linux_Command  Music  Pictures  Public  Templates  Videos
```

变更帐号为 root 并传入 -f 参数给新执行的 shell：  

```
su root -f
```

变更帐号为 clsung 并改变工作目录至 clsung 的家目录（home dir）：  

```
su -clsung
```

切换用户：  

```
[nora@localhost ~]$ su root
Password: 
[root@localhost nora]# 
```

注：命令前面由"$"变为"#"（"#"表示当前用户为root用户）。  

su命令不但可以从普通用户切换到root用户，还可以从一个普通用户切换到另一个普通用户，可以用root用户切换到一个普通用户。  

```
[root@localhost ~]# su - nora
上一次登录：四 10月 31 16:03:16 CST 2019:0 上
[nora@localhost ~]$ 
```

同时还可以通过命令`exit`来退出root用户：  

```
[root@localhost ~]# exit
登出
[nora@localhost ~]$ 
```

参考文献：  

https://www.runoob.com/linux/linux-comm-su.html  



转载请注明：[南梦婷的博客](https://norah2.github.io) » [点击阅读原文](https://norah2.github.io/2019/10/Linux04/)   

<!--以下是本文用到的链接-->  
