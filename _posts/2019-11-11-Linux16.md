---
layout: post
title: 每天一个Linux命令(16)：file  
description: 命令file的讲解  
tag: Linux
---

* 命令格式：file [OPTION...] [FILE...]  

* 命令功能：  
   
   在UNIX或Linux系统中查看一个文件之前，要先确定该文件中数据的类型，之后再用适当的命令或方法打开该文件。  
   
   **与微软系统不同，在Linux或UNIX中文件的扩展名（即后缀）并不代表文件的类型，也就是说扩展名与文件的类型没有关系。因此在打开一个文件之前就要先确定该文件的类型，确定文件类型的命令是file。**

* 常用参数：  

|选项|全称|说明|
|:--:|:--:|:--:|
|-v|--version              |输出版本信息并退出|
|-m|--magic-file LIST      |使用LIST作为以冒号分隔的魔法列表|
|-z|--uncompress           |尝试去解读压缩文件的内容|
|-b|--brief                |列出辨识结果时，不显示文件名称|
|-c|--checking-printout    |详细显示指令执行过程，便于排错或分析程序执行的情形（与-m一起调试新的magic文件）|
|-f|--files-from FILE      |从文件中读取要检查的文件名|
|-F|--separator STRING     |使用字符串作为分隔符而不是“：”|
|-k|--keep-going           |第一次匹配后不用停下来|
|-l|--list                 |列出 magic strength|
|-L|--dereference          |遵循符号链接(symlinks)(default)|
|-h|--no-dereference       |不遵循符号链接(symlinks)|
|-n|--no-buffer            |不缓存输出|
|-N|--no-pad               |不填充输出|
|-0|--print0               |用ASCII NUL终止文件名|
|-p|--preserve-date        |保留文件的访问时间|
|-r|--raw                  |不要将无法打印的字符转换为 \ooo|
|-s|--special-files        |将特殊文件视为普通文件(block/char devices)|
|-C|--compile              |编译由-m指定的文件|
|-d|--debug                |输出调试信息|

* 实例：  

确定Windows下生产的txt文本文件的类型：  

```
[nora@localhost ~]$ ls -F
Desktop/    dog.jpg     Linux_Command/  Music/     Public/     testdir/  Word.txt
Documents/  Downloads/  lists           Pictures/  Templates/  Videos/
[nora@localhost ~]$ file Word.txt
Word.txt: UTF-8 Unicode (with BOM) text, with CRLF line terminators
```

显示的信息较多，这是因为该文件是从Windows系统发送过来的。  

查看Linux上生成的文件：  

```
[nora@localhost ~]$ file lists
lists: ASCII text
```

lists中是内容为ASCII码的正文。  

查看图像文件：  

```
[nora@localhost ~]$ file dog.jpg
dog.jpg: JPEG image data, JFIF standard 1.01
```

查看目录类型：  

```
[nora@localhost ~]$ file testdir
testdir: directory
```

查看bin目录下的pwd文件：  

```
[nora@localhost ~]$ file /bin/pwd
/bin/pwd: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.32, BuildID[sha1]=8d4220662af00906e9db4effe519307654689bb1, stripped
```

executable, 结果显示pwd是一个可执行文件，Linux命令是以可执行文件的形式存放在系统中。  

查看bin目录下的awk文件：  

```
[nora@localhost ~]$ file /bin/awk
/bin/awk: symbolic link to `gawk'
```

awk是一个符号链接(symlinks)。  

其实`file`与命令`ls -F`的结果基本一致，只是`file`显示的会更加详细一些。  

参考文献：  

http://www.linuxeye.com/command/file.html  

转载请注明：[南梦婷的博客](https://norah2.github.io) » [点击阅读原文](https://norah2.github.io/2019/11/Linux16/)   

<!--以下是本文用到的链接-->  
