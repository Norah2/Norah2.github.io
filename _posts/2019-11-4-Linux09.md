---
layout: post
title: 每天一个Linux命令(9)：ls  
description: 命令ls的讲解  
tag: Linux
---

* 命令格式：ls [OPTION]... [FILE]...  

* 命令功能：  
   
   列出目标目录中所有的子目录和文件。  

* 常用参数：  

|选项|全称|说明|
|:--:|:--:|:--:|
|-a| --all                  |列出目录下所有的文件，包括以 . 开头的隐含文件|
|-A|--almost-all           |同-a，但不列出"."(当前目录)和".."(当前目录的父目录)|
|-|--author               |结合-l, 输出每个文件的作者|
|-b|--escape               |输出非图形字符的C样式转义|
|-|--block-size=SIZE      |以指定形式表示文件的大小|
|-c|-|                  结合-lt: 根据ctime排列及显示ctime(文件状态最后更改的时间)；结合-l: 显示ctime，但根据名称排列；否则: 根据ctime排序。|
|-C|-|                         每列由上至下列出项目|
|-|--color[=WHEN]         |控制是否适用彩色分辨文件。; WHEN 可以是'never', 'auto', 'always' (default)|
|-d|--directory            |将目录像文件一样显示，而不是显示其下的文件|
|-D|--dired                |产生适合Rmacs的dired模式使用的结果。|
|-f|-                     |对输出的文件不进行排序，-aU选项生效，-lst选项失效|
|-F|--classify             |将指示符（其中一个*/=>@\|）附加到条目|
|-g|-|                     类似 -l,但是不列出文件所有者|
|-G|--no-group             |不列出任何有关组的信息|
|-h|--human-readable       |配合 -l, 以可读形式输出文件大小(e.g., 1K 234M 2G)|
|-|--si                   |与-h类似，但文件大小取1000的次方而不是1024|
|-H|--dereference-command-line|使用命令列中的符号链接指示的真正目的地|
|-|--indicator-style=WORD  |指定在每个项目名称后加上指示符号：none(default),classify(-F),file-type(-p)|
|-i|--inode                |输出每个文件的inode号|
|-I|--ignore=PATTERN       |不输出任何符合shell通用字符<PATTERN>的项目|
|-k|--kibibytes            |默认以k字节的形式表示文件的大小|
|-l|-                     |除了文件名，还将文件的权限、所有者、文件大小等信息详细列出。|
|-L|--dereference          |当显示符号链接的文件信息时，显示符号链接所指示的对象而并非符号链接本身的信息|
|-m|-                     |所有项目以逗号分隔，并填满整行行宽|
|-n|--numeric-uid-gid      |类似于 -l, 但是会列出numeric user 和 group IDs|
|-o|-|                      类似于 -l, 但是布列出除组信息外的详细信息|
|-r|--reverse|              降序排列
|-R|--recursive|            同时列出所有子目录层|
|-s|--size|                 以块大小为单位列出所有文件的大小|
|-S|-|                       根据文件大小进行排序|
|-|--sort=WORD            |WORD可替换为：extension(-X), status(-x), none(-U), time(-t), size(-S), atime(-u), version (-v)|
|-|--time=WORD            |配合 -l, WORD 可替换为：修改时间（atime or access or use (-u)）; ctime or status (-c); 也可用指定时间（--sort=time）|
|-t|-|                      以文件修改时间排序|
|-T|--tabsize=COLS         |设定tab在每列处停止而不是8|
|-u|-|                     配合-lt: 显示访问时间而且以访问时间排序; 配合-l: 显示访问时间但根据名称排序; 否则根据访问时间排序|
|-U|-|                      不进行排序，以文件系统原有的次序列出项目|
|-v|-|                      根据版本进行排序|
|-w|--width=COLS           |自行指定屏幕宽度而不使用目前的数值|
|-x|-|                      逐行列出项目而不是逐栏列出|
|-X|-|                       根据扩展名排序|
|-1|-|                      每行只列出一个文件|


* 实例：  

新建一个目录：  

```
[nora@localhost ~]$ mkdir haha
```

新建两个文件，并往其中写入指定信息：  

```
[nora@localhost ~]$ ls -l / > lists
[nora@localhost ~]$ cal 2013 > cal2012
```

查看当前目录下的文件以及文件夹：  

```
[nora@localhost ~]$ ls
cal2012  Documents  haha           lists  Pictures  Templates
Desktop  Downloads  Linux_Command  Music  Public    Videos
```

查看当前目录下以及父目录下的文件以及文件夹：  

```
[nora@localhost ~]$ ls . ..
.:
cal2012  Documents  haha           lists  Pictures  Templates
Desktop  Downloads  Linux_Command  Music  Public    Videos

..:
nora
```

查看根目录下的文件以及文件夹：  

```
[nora@localhost ~]$ ls /
bin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
```

列出当前目录下所有内容，同时给出每个文件的文件类型：  

```
[nora@localhost ~]$ ls -F
cal2012   Documents/  haha/           lists   Pictures/  Templates/
Desktop/  Downloads/  Linux_Command/  Music/  Public/    Videos/
```

**文件类型符号所代表的文件类型：**  

|符号|说明|
|:--:|:--:|
|/|表示目录|
|*|表示可执行文件|
|什么也没有|表示纯文本或者ASCII码文件|
|@|表示符号链接|

列出/bin目录下所有内容以及文件类型：  

```
[nora@localhost ~]$ ls -F /bin
/bin@
```

列出所有文件（包括隐藏文件）：  

```
[nora@localhost ~]$ ls -a
.              .bash_profile  .config    Downloads      .lesshst       .mozilla  Templates
..             .bashrc        .dbus      .esd_auth      Linux_Command  Music     Videos
.bash_history  .cache         Desktop    haha           lists          Pictures  .viminfo
.bash_logout   cal2012        Documents  .ICEauthority  .local         Public
[nora@localhost ~]$ ls --all
.              .bash_profile  .config    Downloads      .lesshst       .mozilla  Templates
..             .bashrc        .dbus      .esd_auth      Linux_Command  Music     Videos
.bash_history  .cache         Desktop    haha           lists          Pictures  .viminfo
.bash_logout   cal2012        Documents  .ICEauthority  .local         Public
```


列出某个目录中每一个文件的详细资料，可以使用带有-l(long的第一个字符)选项的ls命令：  

```
[root@localhost ~]# ls -l /home/nora
总用量 8
-rw-rw-r--. 1 nora nora 2018 11月  5 11:14 cal2012
drwxr-xr-x. 2 nora nora    6 10月 25 20:24 Desktop
drwxr-xr-x. 2 nora nora    6 10月 25 20:24 Documents
drwxr-xr-x. 2 nora nora    6 10月 25 20:24 Downloads
drwxrwxr-x. 2 nora nora    6 11月  5 11:14 haha
drwxr-xr-x. 2 nora nora   76 11月  3 21:19 Linux_Command
-rw-rw-r--. 1 nora nora 1311 11月  5 11:14 lists
drwxr-xr-x. 2 nora nora    6 10月 25 20:24 Music
drwxr-xr-x. 2 nora nora    6 10月 25 20:24 Pictures
drwxr-xr-x. 2 nora nora    6 10月 25 20:24 Public
drwxr-xr-x. 2 nora nora    6 10月 25 20:24 Templates
drwxr-xr-x. 2 nora nora    6 10月 25 20:24 Videos
```

**注：结果中第一个字符为d的（eg: Desktop）表示它是一个目录；第一个字符为-的(eg: cal2012)表示它是一个文件。**  

可在ls命令后加多个选项：  

```
[root@localhost ~]# ls -la /home/nora
总用量 52
drwx------. 17 nora nora 4096 11月  5 11:14 .
drwxr-xr-x.  3 root root   18 10月 26 03:40 ..
-rw-------.  1 nora nora 1974 11月  5 11:12 .bash_history
-rw-r--r--.  1 nora nora   18 4月  11 2018 .bash_logout
-rw-r--r--.  1 nora nora  193 4月  11 2018 .bash_profile
-rw-r--r--.  1 nora nora  231 4月  11 2018 .bashrc
drwx------. 19 nora nora 4096 10月 27 13:46 .cache
-rw-rw-r--.  1 nora nora 2018 11月  5 11:14 cal2012
drwxr-xr-x. 17 nora nora 4096 10月 27 15:36 .config
drwx------.  3 nora nora   25 10月 25 19:44 .dbus
drwxr-xr-x.  2 nora nora    6 10月 25 20:24 Desktop
drwxr-xr-x.  2 nora nora    6 10月 25 20:24 Documents
drwxr-xr-x.  2 nora nora    6 10月 25 20:24 Downloads
-rw-------.  1 nora nora   16 10月 25 19:44 .esd_auth
drwxrwxr-x.  2 nora nora    6 11月  5 11:14 haha
-rw-------.  1 nora nora 3728 11月  5 10:40 .ICEauthority
-rw-------.  1 nora nora   42 11月  1 16:36 .lesshst
drwxr-xr-x.  2 nora nora   76 11月  3 21:19 Linux_Command
-rw-rw-r--.  1 nora nora 1311 11月  5 11:14 lists
drwx------.  3 nora nora   19 10月 25 19:44 .local
drwxr-xr-x.  5 nora nora   54 10月 27 11:30 .mozilla
drwxr-xr-x.  2 nora nora    6 10月 25 20:24 Music
drwxr-xr-x.  2 nora nora    6 10月 25 20:24 Pictures
drwxr-xr-x.  2 nora nora    6 10月 25 20:24 Public
drwxr-xr-x.  2 nora nora    6 10月 25 20:24 Templates
drwxr-xr-x.  2 nora nora    6 10月 25 20:24 Videos
-rw-------.  1 nora nora 1054 11月  5 10:45 .viminfo
```

上面两例中第五列表示文件大小，但是不太能够理解，可使用选项-h(human的缩写)：  

```
[root@localhost ~]# ls -lh /home/nora
总用量 8.0K
-rw-rw-r--. 1 nora nora 2.0K 11月  5 11:14 cal2012
drwxr-xr-x. 2 nora nora    6 10月 25 20:24 Desktop
drwxr-xr-x. 2 nora nora    6 10月 25 20:24 Documents
drwxr-xr-x. 2 nora nora    6 10月 25 20:24 Downloads
drwxrwxr-x. 2 nora nora    6 11月  5 11:14 haha
drwxr-xr-x. 2 nora nora   76 11月  3 21:19 Linux_Command
-rw-rw-r--. 1 nora nora 1.3K 11月  5 11:14 lists
drwxr-xr-x. 2 nora nora    6 10月 25 20:24 Music
drwxr-xr-x. 2 nora nora    6 10月 25 20:24 Pictures
drwxr-xr-x. 2 nora nora    6 10月 25 20:24 Public
drwxr-xr-x. 2 nora nora    6 10月 25 20:24 Templates
drwxr-xr-x. 2 nora nora    6 10月 25 20:24 Videos
```

如果只想知道目录本身的属性，可以使用带-d的ls命令：  

```
[root@localhost ~]# ls -ldh
dr-xr-x---. 5 root root 245 11月  5 11:15 .
```

指定文件时间输出格式：  

命令：`ls -tl --time-style=full-iso`：  

```
[root@localhost /]# ls -tl --time-style=full-iso
总用量 24
dr-xr-x---.   5 root root  245 2019-11-05 10:47:57.773646173 +0800 root
drwxr-xr-x.  42 root root 1280 2019-11-05 10:42:12.140357653 +0800 run
drwxrwxrwt.  21 root root 4096 2019-11-05 10:41:18.438802685 +0800 tmp
drwxr-xr-x. 140 root root 8192 2019-11-05 10:40:44.981979480 +0800 etc
drwxr-xr-x.  20 root root 3300 2019-11-05 10:34:44.917684964 +0800 dev
dr-xr-xr-x.  13 root root    0 2019-11-05 10:34:29.055999972 +0800 sys
dr-xr-xr-x. 243 root root    0 2019-11-05 10:34:22.031000000 +0800 proc
dr-xr-xr-x.   5 root root 4096 2019-10-26 03:43:10.161560480 +0800 boot
drwxr-xr-x.  21 root root 4096 2019-10-26 03:42:52.408000121 +0800 var
drwxr-xr-x.   3 root root   18 2019-10-26 03:40:50.127021699 +0800 home
drwxr-xr-x.   3 root root   16 2019-10-26 03:36:53.423015830 +0800 opt
drwxr-xr-x.  13 root root  155 2019-10-26 03:33:44.409011143 +0800 usr
lrwxrwxrwx.   1 root root    8 2019-10-26 03:33:44.329011141 +0800 sbin -> usr/sbin
lrwxrwxrwx.   1 root root    7 2019-10-26 03:33:44.328011141 +0800 lib -> usr/lib
lrwxrwxrwx.   1 root root    9 2019-10-26 03:33:44.328011141 +0800 lib64 -> usr/lib64
lrwxrwxrwx.   1 root root    7 2019-10-26 03:33:44.327011141 +0800 bin -> usr/bin
drwxr-xr-x.   2 root root    6 2018-04-11 12:59:55.000000000 +0800 media
drwxr-xr-x.   2 root root    6 2018-04-11 12:59:55.000000000 +0800 mnt
drwxr-xr-x.   2 root root    6 2018-04-11 12:59:55.000000000 +0800 srv
```

命令：`ls -ctl --time-style=full-iso`：  

```
[root@localhost ~]# ls -ctl --time-style=full-iso
总用量 8
-rw-------. 1 root root 1796 2019-10-26 03:41:37.461022872 +0800 anaconda-ks.cfg
-rw-r--r--. 1 root root 1824 2019-10-25 19:44:26.038368377 +0800 initial-setup-ks.cfg
```

扩展：  

显示彩色目录列表：  

打开/etc/bashrc, 加入一行：`alias ls="ls --color"`。  

参考文献：  

https://www.cnblogs.com/peida/archive/2012/10/23/2734829.html

转载请注明：[南梦婷的博客](https://norah2.github.io) » [点击阅读原文](https://norah2.github.io/2019/11/Linux09/)   

<!--以下是本文用到的链接-->  
