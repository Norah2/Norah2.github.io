---
layout: post
title: 每天一个Linux命令(21)：more  
description: 命令more的讲解  
tag: Linux
---

* 命令格式：more [options] file...  

* 命令功能：  
   
   功能类似cat，cat命令是整个文件的内容从上到下显示在屏幕上。more会以一页一页的显示方便使用者逐页阅读，而最基本的指令就是按空白键（space）就往下一页显示，按b键就会往回（back）一页显示，而且还有搜寻字串的功能。more命令从前往后读取文件，因此在启动时就加载整个文件。  

* 常用参数：  

|选项|说明|
|:--:|:--:|
|-d|        显示帮助而不是铃声|
|-f|        计算逻辑行，而不是屏幕行|
|-l|        忽略Ctrl+l（换页）字符|
|-p|        通过清除窗口而不是滚屏来对文件进行换页，与-c选项相似|
|-c|        从顶部清屏，然后显示|
|-u|        把文件内容中的下划线去掉|
|-s|        把连续多个空行显示为一行|
|-NUM|      指定每屏显示的行数|
|+NUM|      从行号NUM开始显示文件|
|+/STRING|  显示从搜索字符串匹配开始的文件|
|-V|        输出版本信息和退出|

* 实例：  

显示文件中第3行起的内容：  

```
[nora@localhost ~]$ more +3 list_new
       1  2  3  4  5                  1  2   1  2  3  4  5  6  7
 6  7  8  9 10 11 12   3  4  5  6  7  8  9   8  9 10 11 12 13 14
13 14 15 16 17 18 19  10 11 12 13 14 15 16  15 16 17 18 19 20 21
20 21 22 23 24 25 26  17 18 19 20 21 22 23  22 23 24 25 26 27 28
27 28 29 30 31        24 25 26 27 28 29 30  29 30 31            
                                                                
```

从文件中查找第一个出现“31”字符串的行，并从该处前两行开始显示输出：  

```
[nora@localhost ~]$ more +/31 list_new

...skipping
13 14 15 16 17 18 19  10 11 12 13 14 15 16  15 16 17 18 19 20 21
20 21 22 23 24 25 26  17 18 19 20 21 22 23  22 23 24 25 26 27 28
27 28 29 30 31        24 25 26 27 28 29 30  29 30 31            
                                                                
```

设定每屏显示的行数：  

```
[nora@localhost ~]$ more -5 lists
                               2019                               

       January               February                 March       
Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa
       1  2  3  4  5                   1  2                   1  2
--More--(13%)
```

**按Ctrl+F或者space将会显示下一屏5条内容，百分比也会跟着变化。**  

```
[nora@localhost ~]$ more -5 lists
                               2019                               

       January               February                 March       
Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa
       1  2  3  4  5                   1  2                   1  2
 6  7  8  9 10 11 12    3  4  5  6  7  8  9    3  4  5  6  7  8  9
13 14 15 16 17 18 19   10 11 12 13 14 15 16   10 11 12 13 14 15 16
20 21 22 23 24 25 26   17 18 19 20 21 22 23   17 18 19 20 21 22 23
27 28 29 30 31         24 25 26 27 28         24 25 26 27 28 29 30
                                              31
--More--(29%)
```

```
[nora@localhost ~]$ more -5 lists
                               2019                               

       January               February                 March       
Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa
       1  2  3  4  5                   1  2                   1  2
 6  7  8  9 10 11 12    3  4  5  6  7  8  9    3  4  5  6  7  8  9
13 14 15 16 17 18 19   10 11 12 13 14 15 16   10 11 12 13 14 15 16
20 21 22 23 24 25 26   17 18 19 20 21 22 23   17 18 19 20 21 22 23
27 28 29 30 31         24 25 26 27 28         24 25 26 27 28 29 30
                                              31

...skipping one line
Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa
    1  2  3  4  5  6             1  2  3  4                      1
 7  8  9 10 11 12 13    5  6  7  8  9 10 11    2  3  4  5  6  7  8
14 15 16 17 18 19 20   12 13 14 15 16 17 18    9 10 11 12 13 14 15
21 22 23 24 25 26 27   19 20 21 22 23 24 25   16 17 18 19 20 21 22
--More--(48%)
```

列出一个目录下的文件，由于内容太多，可以学着用more分页显示：  

```
[nora@localhost ~]$ ls -l | more -5
total 56
drwxr-xr-x. 2 nora nora     6 Oct 25 20:24 Desktop
drwxr-xr-x. 2 nora nora     6 Oct 25 20:24 Documents
-rw-rw-r--. 1 nora nora 14688 Nov 12 23:22 dog.jpg
drwxr-xr-x. 2 nora nora     6 Oct 25 20:24 Downloads
--More--
```

* 常用操作命令：  

|     操作命令            |      说明         |
|:----------------------:|:----------------------:|
|\<space>                |显示下k行文本[当前屏幕大小]|
|z                       |显示下k行文本[当前屏幕大小]*|
|\<return>               |显示下k行文本[1]*|
|d or ctrl-D             |滚动k行[当前滚动大小，最初为11]*|
|q or Q or \<interrupt>  |从more中退出|
|s                       |向前跳过k行文本[1]|
|f                       |向前跳过k屏文本[1]|
|b or ctrl-B             |向后跳过k屏文本[1]|
|'                       |转到上一个搜索开始的位置|
|=                       |显示当前行号|
|/\<regular expression>  |搜索正则表达式的第k个匹配项[1]|
|n                       |搜索上一个r.e[1]的第k次出现|
|!\<cmd> or :!\<cmd>     |调用 <cmd> (shell)，并执行命令|
|v                       |在当前行上启动 /usr/bin/vi|
|ctrl-L                  |重画屏幕|
|:n                      |转到第下k个文件[1]|
|:p                      |转到第上k个文件[1]|
|:f                      |显示当前文件名和行号|
|.                       |重复上一个命令|

参考文献：  

https://www.cnblogs.com/peida/archive/2012/11/02/2750588.html  

转载请注明：[南梦婷的博客](https://norah2.github.io) » [点击阅读原文](https://norah2.github.io/2019/11/Linux21/)   

<!--以下是本文用到的链接-->  
