---
layout: post
title: 每天一个Linux命令(12)：mv  
description: 命令mv的讲解  
tag: Linux
---

* 命令格式：`mv [OPTION]... [-T] SOURCE DEST`  
   or `mv [OPTION]... SOURCE... DIRECTORY`  
   or `mv [OPTION]... -t DIRECTORY SOURCE...`  

* 命令功能：  
   
   mv(move)的缩写，既可以在不同的目录之间移动文件和目录，也可以重新命名文件和目录，mv命令并不影响被移动或改名的文件或目录中的内容。  

* 常用参数：  

|选项|全称|说明|
|:--:|:--:|:--:|
|-b|-                         |类似于 --backup 若需覆盖文件，则覆盖前先行备份|
|-f|--force                  |如果目标文件已经存在，不会询问而直接覆盖|
|-i|--interactive            |若目标文件已经存在，且source较新，才会更新（update）|
|-n|--no-clobber             |不要覆盖现有文件|
|-u|--update                 |若目标文件已经存在，且source比较新，才会更新（update）|
|-t|--target-directory=DIRECTORY  |即指定mv的目标目录，该选项适用于移动多个源文件到一个目录的情况，此时目标目录在前，源文件在后|

**注：如果指定-i、-f、-n中的多个，则只有最后一个生效。**  

* 实例：  

移动文件：  

```
[nora@localhost ~]$ ls -l testdir
total 0
[nora@localhost ~]$ mv lists testdir
[nora@localhost ~]$ ls -l testdir
total 4
-rw-rw-r--. 1 nora nora 1311 Nov  7 08:22 lists
```

一次移动多个文件：  

```
[nora@localhost ~]$ cp cal2012 cal2039
[nora@localhost ~]$ mv cal2012 cal2039 /home/nora/testdir
[nora@localhost ~]$ ls testdir
cal2012  cal2039  lists
```

文件改名：  

```
[nora@localhost ~]$ mv testdir/lists testdir/new_lists
[nora@localhost ~]$ ls testdir
cal2012  cal2039  new_lists
```

更名并更改路径：  

```
[nora@localhost ~]$ mv testdir/new_lists lists200
[nora@localhost ~]$ ls
Desktop    Downloads  hie            lists200  Music     Public     testdir
Documents  haha       Linux_Command  mun       Pictures  Templates  Videos
```

加上-i参数，覆盖前会询问是否覆盖：  

```
[nora@localhost ~]$ ls -l testdir
总用量 12
-rw-rw-r--. 1 nora nora 2018 11月  7 08:23 cal2012
-rw-rw-r--. 1 nora nora 2018 11月  7 08:27 cal2039
-rw-rw-r--. 1 nora nora 1311 11月  7 09:19 lists
[nora@localhost ~]$ mv -i lists200 ./testdir/lists
mv：是否覆盖"./testdir/lists"？ y
[nora@localhost ~]$ ls -l testdir
总用量 12
-rw-rw-r--. 1 nora nora 2018 11月  7 08:23 cal2012
-rw-rw-r--. 1 nora nora 2018 11月  7 08:27 cal2039
-rw-rw-r--. 1 nora nora 1311 11月  7 08:22 lists
```

加上-f参数，强制覆盖，不会询问：  

```
[nora@localhost ~]$ ls -l testdir
总用量 12
-rw-rw-r--. 1 nora nora 2018 11月  7 08:23 cal2012
-rw-rw-r--. 1 nora nora 2018 11月  7 08:27 cal2039
-rw-rw-r--. 1 nora nora 1311 11月  7 08:22 lists
[nora@localhost ~]$ mv -f list200 ./testdir/lists
[nora@localhost ~]$ 
```

将当前目录下的所有文件移动到上层目录：  

```
[nora@localhost ~]$ cd testdir
[nora@localhost testdir]$ mv * ../
[nora@localhost testdir]$ ls
[nora@localhost testdir]$ cd ..
[nora@localhost ~]$ ls
cal2012  Desktop    Downloads  hie            lists  Music     Public     testdir
cal2039  Documents  haha       Linux_Command  mun    Pictures  Templates  Videos
[nora@localhost ~]$ 
```

将当前目录的一个子目录里的文件移动到另一个目录里：  

```
[nora@localhost ~]$ ll haha
总用量 0
drwxrwxr-x. 7 nora nora 66 11月  6 09:46 scf
drwxrwxrwx. 2 nora nora  6 11月  6 09:44 test
drwxrwxr-x. 2 nora nora  6 11月  6 09:44 test1
[nora@localhost ~]$ ll hie
总用量 0
[nora@localhost ~]$ mv haha/* hie
[nora@localhost ~]$ ll hie
总用量 0
drwxrwxr-x. 7 nora nora 66 11月  6 09:46 scf
drwxrwxrwx. 2 nora nora  6 11月  6 09:44 test
drwxrwxr-x. 2 nora nora  6 11月  6 09:44 test1
[nora@localhost ~]$ ll haha
总用量 0
```

加上参数-b，文件被覆盖前做简单备份：  

```
[nora@localhost ~]$ ll testdir
总用量 4
-rw-rw-r--. 1 nora nora 2018 11月  7 08:23 cal2012
[nora@localhost ~]$ mv cal2039 -b ./testdir/cal2012
[nora@localhost ~]$ ll testdir
总用量 8
-rw-rw-r--. 1 nora nora 2018 11月  7 08:27 cal2012
-rw-rw-r--. 1 nora nora 2018 11月  7 08:23 cal2012~
[nora@localhost ~]$ 
```

参考文献：  

https://www.cnblogs.com/peida/archive/2012/10/27/2743022.html

转载请注明：[南梦婷的博客](https://norah2.github.io) » [点击阅读原文](https://norah2.github.io/2019/11/Linux12/)   

<!--以下是本文用到的链接-->  
