---
layout: post
title: 每天一个Linux命令(2)：date  
description: 命令date的讲解  
tag: Linux
---

有时我们会想要知道当前的时间，这时我们可以使用命令date来获取。  

* 命令格式：`date [OPTION]... [+FORMAT]`  
   or: `date [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]]`  

* 命令功能：  
   
   以给定的格式输出当前的时间，或者设置系统日期。  

* 常用参数：  

|选项|全称             |说明|
|:--|:---------------:|:------------------------------------------:|
|-d|--date=STRING     |显示字符串所指的日期与时间。字符串前后必须是双引号|
|-s|--set=STRING      |根据字符串来设置日期与时间。字符串前后必须是双引号|
|-u|--utc, --universal|显示GMT|

* 日期格式字符串列表：  

(FORMAT controls the output.  Interpreted sequences are:)  

```
  %%   a literal %
  %a   locale's abbreviated weekday name (e.g., Sun)
  %A   locale's full weekday name (e.g., Sunday)
  %b   locale's abbreviated month name (e.g., Jan)
  %B   locale's full month name (e.g., January)
  %c   locale's date and time (e.g., Thu Mar  3 23:05:25 2005)
  %C   century; like %Y, except omit last two digits (e.g., 20)
  %d   day of month (e.g., 01)
  %D   date; same as %m/%d/%y
  %e   day of month, space padded; same as %_d
  %F   full date; same as %Y-%m-%d
  %g   last two digits of year of ISO week number (see %G)
  %G   year of ISO week number (see %V); normally useful only with %V
  %h   same as %b
  %H   hour (00..23)
  %I   hour (01..12)
  %j   day of year (001..366)
  %k   hour, space padded ( 0..23); same as %_H
  %l   hour, space padded ( 1..12); same as %_I
  %m   month (01..12)
  %M   minute (00..59)
  %n   a newline
  %N   nanoseconds (000000000..999999999)
  %p   locale's equivalent of either AM or PM; blank if not known
  %P   like %p, but lower case
  %r   locale's 12-hour clock time (e.g., 11:11:04 PM)
  %R   24-hour hour and minute; same as %H:%M
  %s   seconds since 1970-01-01 00:00:00 UTC
  %S   second (00..60)
  %t   a tab
  %T   time; same as %H:%M:%S
  %u   day of week (1..7); 1 is Monday
  %U   week number of year, with Sunday as first day of week (00..53)
  %V   ISO week number, with Monday as first day of week (01..53)
  %w   day of week (0..6); 0 is Sunday
  %W   week number of year, with Monday as first day of week (00..53)
  %x   locale's date representation (e.g., 12/31/99)
  %X   locale's time representation (e.g., 23:13:48)
  %y   last two digits of year (00..99)
  %Y   year
  %z   +hhmm numeric time zone (e.g., -0400)
  %:z  +hh:mm numeric time zone (e.g., -04:00)
  %::z  +hh:mm:ss numeric time zone (e.g., -04:00:00)
  %:::z  numeric time zone with : to necessary precision (e.g., -04, +05:30)
  %Z   alphabetic time zone abbreviation (e.g., EDT)
```

**注：默认情况下，日期填充带零的数字字段。**  


“%”后面可以是以下可选标志：  
(The following optional flags may follow '%':)  

```
  -  (hyphen) do not pad the field
  _  (underscore) pad with spaces
  0  (zero) pad with zeros
  ^  use upper case if possible
  #  use opposite case if possible
```

* 实例：  

普通查看日期：  

```
[nora@localhost ~]$ date
Mon Oct 28 16:03:24 CST 2019
```

更改时区：  

```
[nora@localhost ~]$ date -u
Mon Oct 28 08:03:18 UTC 2019
```

显示2147483647秒：  

```
[nora@localhost ~]$ date --date='@2147483647'
Tue Jan 19 11:14:07 CST 2038
```


显示美国洛杉矶的时间：  

```
[nora@localhost ~]$ TZ='America/Los_Angeles' date
Mon Oct 28 01:05:03 PDT 2019
```

显示洛杉矶下周五9:00在此时的时间：  

```
[nora@localhost ~]$ date --date='TZ="America/Los_Ageles" 09:00 next Fri'
Fri Nov  1 17:00:00 CST 2019
```

格式化输出：  

```
[nora@localhost ~]$ date +"%Y-%m-%d"
2019-10-28
```

输出一天前的日期：  

```
[nora@localhost ~]$ date -d "1 day ago" +"%Y-%m-%d"
2019-10-27
```

输出日期加时间：  

```
[nora@localhost ~]$ date -d "2019-10-28" +"%Y/%m/%d %H:%M.%S"
2019/10/28 00:00.00
```

日期的加减：  

```
[nora@localhost ~]$ date +%Y%m%d
20191028
[nora@localhost ~]$ date -d "+1 day" +%Y%m%d
20191029
[nora@localhost ~]$ date -d "-1 day" +%Y%m%d
20191027
[nora@localhost ~]$ date -d "+1 month" +%Y%m%d
20191128
[nora@localhost ~]$ date -d "-1 month" +%Y%m%d
20190928
[nora@localhost ~]$ date -d "+1 year" +%Y%m%d
20201028
[nora@localhost ~]$ date -d "-1 year" +%Y%m%d
20181028
```

时间的设置：（需要管理员权限）  

```
[nora@localhost ~]$ date -s 20120523
date: cannot set date: Operation not permitted
Wed May 23 00:00:00 CST 2012
```

检查命令花费的时间：  

```
#!/bin/bash 
start=$(date +%s) 
nmap man.linuxde.net &> /dev/null 
end=$(date +%s) 
difference=$(( end - start )) 
echo $difference seconds.
```

参考文献：  

https://www.cnblogs.com/hunttown/p/5470527.html  


转载请注明：[南梦婷的博客](https://norah2.github.io) » [点击阅读原文](https://norah2.github.io/2019/10/Linux01/)   

<!--以下是本文用到的链接-->  


