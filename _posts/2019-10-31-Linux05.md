---
layout: post
title: 每天一个Linux命令(5)：passwd  
description: 命令passwd的讲解  
tag: Linux
---

* 命令格式：passwd [OPTION...] <accountName>  

* 命令功能：  

   用于更改用户密码。  

* 常用参数：  

|选项|全称          |说明|
|:--:|:-----------:|:--:|
|-k|--keep-tokens  |保持身份验证（token）不过期|
|-d|--delete       |删除已命名账号的密码（root only）|
|-l|--lock         |锁定指定账户的密码（root only）|
|-u|--unlock       |解锁指名账户的密码（root only）|
|-e|--expire       |终止指名账户的密码（root only）|
|-f|--force        |强制执行操作|
|-x|--maximum=DAYS |密码的最长有效时限（root only）|
|-n|--minimum=DAYS |密码的最短有效时限（root only）|
|-w|--warning=DAYS |在密码过期前多少天开始提醒用户（root only）|
|-i|--inactive=DAYS|当密码过期后多少天该账号会被禁用（root only）|
|-S|--status       |报告已命名账号的密码状态（root only）|
|-|--stdin         |从标准重新读取token|

* 实例：  

修改当前用户的密码（当前账户的名字为nora，非root）：  

```
[nora@localhost ~]$ passwd
Changing password for user nora.
Changing password for nora.
(current) UNIX password: 
New password: 
BAD PASSWORD: The password is too similar to the old one
New password: 
Retype new password: 
passwd: all authentication tokens updated successfully.
```

当再次更改的密码和原来密码很相似或者少于指定最短长度（8）时最拒绝你的新密码，直到你输入符合要求的密码。  

现在更改到root用户下使用`passwd`命令：  

```
[nora@localhost ~]$ su -
Password: 
Last login: Thu Oct 31 16:07:12 CST 2019 on pts/0
[root@localhost ~]# passwd
更改用户 root 的密码 。
新的 密码：
无效的密码： 密码少于 8 个字符
重新输入新的 密码：
抱歉，密码不匹配。
新的 密码：
重新输入新的 密码：
passwd：所有的身份验证令牌已经成功更新。
```

在root下，即使新更改的密码不符合要求，它也不会终止你的操作，但是它会对你发出警告，你可以继续往下进行操作，因为root拥有最高权限。  

root还可以更改普通用户密码：  

```
[root@localhost ~]# passwd nora
更改用户 nora 的密码 。
新的 密码：
重新输入新的 密码：
passwd：所有的身份验证令牌已经成功更新。
```

root下还可以查看用户的密码状态：  

```
[root@localhost ~]# passwd -S nora
nora PS 2019-10-31 0 99999 7 -1 (密码已设置，使用 SHA512 算法。)
```



转载请注明：[南梦婷的博客](https://norah2.github.io) » [点击阅读原文](https://norah2.github.io/2019/10/Linux05/)   

<!--以下是本文用到的链接-->  
